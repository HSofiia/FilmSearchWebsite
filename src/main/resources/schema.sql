DROP TABLE IF EXISTS PUBLIC.FILM_ACTOR;

DROP TABLE IF EXISTS PUBLIC.DIRECTOR;

DROP TABLE IF EXISTS PUBLIC.FILM;

DROP TABLE IF EXISTS PUBLIC.ACTOR;

CREATE TABLE PUBLIC.FILM
(
    ID INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY not null,
    FILM_NAME VARCHAR(100) not null,
    RELEASE_YEAR DATE,
    BOX_OFFICE FLOAT,
    GENRE VARCHAR(50)
);
CREATE TABLE PUBLIC.DIRECTOR (
                                 ID INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY not null,
                                 DIRECTOR_NAME VARCHAR(255) not null,
                                 BIRTH INT,
                                 AWARD VARCHAR(255)
);

CREATE TABLE PUBLIC.ACTOR
(
    ID          INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY not null,
    ACTOR_NAME   VARCHAR(255) not null ,
    GENDER      CHAR(1),
    NATIONALITY VARCHAR(70)  not null
);

CREATE TABLE PUBLIC.FILM_ACTOR
(
    FILM_ID INTEGER NOT NULL,
    ACTOR_ID INTEGER NOT NULL,
    PRIMARY KEY (FILM_ID, ACTOR_ID),
    FOREIGN KEY (FILM_ID) REFERENCES PUBLIC.FILM(ID) ON DELETE CASCADE,
    FOREIGN KEY (ACTOR_ID) REFERENCES PUBLIC.ACTOR(ID) ON DELETE CASCADE
);
